<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Start Quiz</title>
</head>
<body>
<h1>Start Your Quiz</h1>
<form id="quizForm">
    <label>Full Name:</label><br />
    <input type="text" id="fullName" required /><br /><br />

    <label>Age:</label><br />
    <input type="number" id="age" required /><br /><br />

    <label>Number of Questions:</label><br />
    <input type="number" id="questionAmount" required /><br /><br />

    <label>Question Type:</label><br />
    <select id="questionType">
        <option value="multiple">Multiple Choice</option>
        <option value="boolean">True / False</option>
    </select><br /><br />

    <button type="button" onclick="startQuiz()">Start Quiz</button>
</form>

<script>
    function startQuiz() {
        const fullName = document.getElementById("fullName").value;
        const age = document.getElementById("age").value;
        const questionAmount = document.getElementById("questionAmount").value;
        const questionType = document.getElementById("questionType").value;

        const player = {
            fullName,
            age,
            questionAmount,
            questionType
        };

        fetch("/api/start", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(player)
        })
            .then(response => {
                if (!response.ok) throw new Error("Failed to fetch quiz data");
                return response.json();
            })
            .then(data => {
                localStorage.setItem("quizData", JSON.stringify(data));
                window.location.href = "quiz.html";
            })
            .catch(error => {
                alert("Error: " + error.message);
            });
    }
</script>
</body>
</html>
