<script>
    document.getElementById("quizForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const payload = {
            fullName: document.getElementById("fullName").value,
            age: parseInt(document.getElementById("age").value),
            questionAmount: parseInt(document.getElementById("questionAmount").value),
            questionType: document.getElementById("questionType").value
        };

        fetch("http://localhost:8080/api/start", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
        })
            .then(response => response.json())
            .then(data => {
                // Save the response to localStorage
                localStorage.setItem("quizData", JSON.stringify(data));
                localStorage.setItem("playerName", payload.fullName);

                // Redirect to quiz page
                window.location.href = "quiz.html";
            })
            .catch(err => {
                alert("Error: " + err);
            });
    });
</script>
