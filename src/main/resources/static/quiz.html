<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Questions</title>
</head>
<body>
<h2>Welcome, <span id="playerName"></span>! Here are your questions:</h2>
<div id="quizContainer"></div>

<script>
    const data = JSON.parse(localStorage.getItem("quizData"));
    const name = localStorage.getItem("playerName");
    document.getElementById("playerName").textContent = name || "Player";

    const container = document.getElementById("quizContainer");

    if (!data || !data.results) {
        container.innerHTML = "<p>No quiz data found!</p>";
    } else {
        data.results.forEach((q, index) => {
            const div = document.createElement("div");
            div.innerHTML = `
                    <h3>Q${index + 1}: ${q.question}</h3>
                    <ul>
                        ${
                q.type === "boolean"
                    ? `
                                <li><input type="radio" name="q${index}" value="True"> True</li>
                                <li><input type="radio" name="q${index}" value="False"> False</li>
                            `
                    : shuffleAnswers([...q.incorrect_answers, q.correct_answer])
                        .map(ans => `<li><input type="radio" name="q${index}" value="${ans}"> ${ans}</li>`)
                        .join("")
            }
                    </ul>
                    <hr>
                `;
            container.appendChild(div);
        });
    }

    function shuffleAnswers(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }
</script>
</body>
</html>
